{% load staticfiles %}

<!DOCTYPE HTML>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>{% block head_title %} XChange Idea Network {% endblock head_title %}</title>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css' >
<link rel='stylesheet' href='{% static "css/base.css" %}' />

<style>
 {% block style %}
   .navbar {
     margin-bottom: 0; border-radius: 0;
   }
   strong{
     font-size:15px;
   }
   small{
     font-size:14px;
   }

   body {
      position: relative;
      font-size:14px;
  }

  .sidenav {
         padding: 10px 10px;
         height:125%;
         font-size:13px;
         color: #434980;

   }

   a:link, a:visited {
    text-decoration: none;
   /* display: inline-block;*/
   /* white-space: pre-wrap; *//* css-3 */
   /* white-space: -moz-pre-wrap; *//* Mozilla, since 1999 */
   /* white-space: -pre-wrap; *//* Opera 4-6 */
   /* white-space: -o-pre-wrap;*/ /* Opera 7 */
   /* word-wrap: break-word; *//* Internet Explorer 5.5+ */
}


    a:hover, a:active {

    font-weight: bold;
    }

   /* Set black background color, white text and some padding */
   footer {
     background-color: #555;
     color: white;
     padding: 15px;
   }

   /* On small screens, set height to 'auto' for sidenav and grid */
   @media screen and (max-width: 767px) {
     .sidenav {
       height: auto;
       padding: 10px 10px;
       font-size:small;
     }
     .row.content {height:auto;}
   }

     img:hover {
      -webkit-filter: grayscale(0%);
      -webkit-transition: .5s ease-in-out;
      -moz-filter: grayscale(0%);
      -moz-transition: .5s ease-in-out;
      -o-filter: grayscale(0%);
      -o-transition: .5s ease-in-out;
      filter: grayscale(0%);
     }

     img {
      -webkit-filter: grayscale(100%);
      -webkit-transition: .5s ease-in-out;
      -moz-filter: grayscale(100%);
      -moz-transition: .5s ease-in-out;
      -o-filter: grayscale(100%);
      -o-transition: .5s ease-in-out;
      filter: grayscale(100%);
     }
{% endblock style %}
</style>

{% block head_extra %} {% endblock head_extra %}
</head>

<body data-spy="scroll" data-target=".navbar" data-offset="50">

  <nav class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/" > xChangeIdea.Net </a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar" >
        <ul class="nav navbar-nav navbar-center" >
          <li class="active"><a href='{% url "posts:list" %}'>Home</a></li>
          {% block post_detail_link %}
          {% endblock %}
          <li><a href="/about">About Us</a></li>
          <li><a href={% url "contact" %}>Contact</a></li>
          {% if request.user.is_authenticated %}
          {% if user.is_staff %}
          <li><a href='/blog/create/'><span class="glyphicon glyphicon-pencil"></span> Create Post</a></li>
          {% endif %}
          {% endif %}
        </ul>

        <ul class="nav navbar-nav navbar-right">
          {% if not request.user.is_authenticated %}
          <li><a href={% url "register" %}><span class="glyphicon glyphicon-user"></span> Register</a></li>
          <li><a href={% url "login" %}><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
          {% else %}
          <li class='pull-right'><a href='{% url "logout" %}'><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
          {% endif %}

        </ul>
      </div>
    </div>
  </nav>

  {% block content %} {% endblock content %}

  <footer class="container-fluid text-center">
    All rights reserved &copy; XChangeIdea.Net 2016  - Design & developed by Rajendra T
  </footer>

<!-- Latest compiled and minified JavaScript -->
<script src="http://code.jquery.com/jquery-1.12.2.min.js"   integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk="   crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script type="text/javascript">
 $(document).ready(function(){
    $(".content-markdown").each(function(){
            var content = $(this).text()
            var markedContent = marked(content)
            $(this).html(markedContent)
    })
    $(".post-detail-item img").each(function(){
            $(this).addClass("img-responsive");
    })



    var contentInput = $("#id_content");

    function setContent(value){
        var markedContent = marked(value)
        $("#preview-content").html(markedContent)
        $("#preview-content img").each(function(){
            $(this).addClass("img-responsive")
        })
    }
    setContent(contentInput.val())

    contentInput.keyup(function(){
        var newContent = $(this).val()
        setContent(newContent)
    })

    var titleInput = $("#id_title");



    function setTitle(value) {
        $("#preview-title").text(value)
    }
    setTitle(titleInput.val())

    titleInput.keyup(function(){
        var newContent = $(this).val()
        setTitle(newContent)
    })

    $(".comment-reply-btn").click(function(event){
        event.preventDefault();
        $(this).parent().next(".comment-reply").fadeToggle();
    }
    )

     $(function () {

    $('.toggle').click(function (event) {
        event.preventDefault();
        var target = $(this).attr('href');
        $(target).toggleClass('hidden show');
    });

    });


    // preview-title
    // preview-content

  })
</script>

</body>
</html>
